<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="lib/layui/css/layui.css"/>
    <link rel="stylesheet" href="css/comm.css"/>
    <style>
        .layui-form-radio{
        .layui-form-radio
        }
        .layui-unselect.layui-form-select{
            height: 100%;
        }
        .layui-select-title{
            height: 100%;
        }
        .layui-select-title input{
            width: 100%;
            height: 100%;
            border: none;
            outline: none;
            color: #757575;
            background-color: #F3F3F3;
            padding: 0 40px 0 30px;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;

            /*width: -webkit-calccalc(100% - 40px);*/
            /*width: -moz-calc(100% - 40px);*/
            /*width : calc(100% - 40px);*/
            background-size: calc(100% - 40px);
            padding-right: 0;
        }
        .layui-form-select .layui-edge{
            position: absolute;
            z-index: -1;
            right: 0;
            top:3px;
            width: 40px;
            height: 40px;
            border: none;
            background-color: #E9E9E9;
        }
        .layui-form-select .layui-edge span{
            display: block;
            width: 100%;
            height: 100%;
            background-image: url(images/selected_time.png);
            background-repeat: no-repeat;
            background-position: 50%;
            transition: all .3s;
            -webkit-transition: all .3s;
        }
        .layui-form-selected .layui-edge{
            margin-top: -3px;
            -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
        }
        .layui-form-selected .layui-edge span{
            -webkit-transform: rotate(180deg);
            transform: rotate(180deg);
        }
        .layui-laydate-hint{
            display: none;
        }
    </style>
</head>
<body>
<div class="comm">
    <header class="comm-head">
        <img src="images/banner01.png" alt=""/>
    </header>
    <div class="buy-ticket-status">
        <!--
            已完成流程就添加active类名
         -->
        <div class="buy-ticket-item active">
            <span class="buy-ticket-item-title">选择商品</span>
            <p><span>1</span></p>
        </div>
        <div class="buy-ticket-item">
            <span class="buy-ticket-item-title">选择座位</span>
            <p><span>2</span></p>
        </div>
        <div class="buy-ticket-item">
            <span class="buy-ticket-item-title">填写信息</span>
            <p><span>3</span></p>
        </div>
        <div class="buy-ticket-item">
            <span class="buy-ticket-item-title">在线支付</span>
            <p><span>4</span></p>
        </div>
        <div class="buy-ticket-item">
            <span class="buy-ticket-item-title">购票成功</span>
            <p><span>5</span></p>
        </div>
    </div>
    <form action="pay.html" class="layui-form"  lay-filter="distpicker">
        <main class="use-info">
            <div class="use-info-left select-seat-time">
                <div class="use-info-left-box">
                    <header class="use-info-left-box-title">
                        商品信息
                    </header>

                    <div class="use-info-select-price">
                        <p class="use-info-select-price-title">深圳出发 澳门纯玩美食观光一日游</p>
                    </div>

                    <div class="use-info-input-box">
                        <div class="use-info-input-title">
                            日&nbsp;&nbsp;&nbsp;期
                        </div>
                        <div class="use-info-input-main">
                            <input type="text" placeholder="请选择日期"  id="laydateTest" name="date" readonly="readonly"/>
                            <span class="rili"></span>
                        </div>
                        <div class="use-info-input-msg">
                            * 请选择日期
                        </div>
                    </div>
                    <div class="use-info-input-box">
                        <div class="use-info-input-title">
                            时间段
                        </div>
                        <div class="use-info-input-main">
                            <select name="times" lay-verify="required">
                                <option value="0">请选择时间</option>
                                <option value="1">上海</option>
                                <option value="2">广州</option>
                                <option value="3">深圳</option>
                                <option value="4">杭州</option>
                            </select>
                        </div>
                        <div class="use-info-input-msg">
                            * 请选择时间段
                        </div>
                    </div>

                    <div class="go-select-seat">
                        <a href="javascript:;" lay-submit lay-filter="submit">
                            前往选座购票
                        </a>
                    </div>
                </div>
            </div>
        </main>
    </form>
    <footer class="comm-footer">
        <p>
            技术支持：喵票科技
        </p>
    </footer>
</div>
<script src="lib/layui/layui.js"></script>
<script>
    var json00 = {
        "date_status": 0,
        "info": [
            {
                "year": 2018,
                "info": [
                    {
                        "month": "1",
                        "date": [
                            {"date": "20", "status": 1},
                            {"date": "1", "status": 1},
                            {"date": "21", "status": 1},
                            {"date": "22", "status": 1},
                            {"date": "23", "status": 1},
                            {"date": "24", "status": 1},
                            {"date": "25", "status": 1},
                            {"date": "26", "status": 1},
                            {"date": "27", "status": 1}
                        ]
                    },
                    {
                        "month": "2",
                        "date": [
                            {"date": "04", "status": 1},
                            {"date": "11", "status": 1},
                            {"date": "18", "status": 1},
                            {"date": "25", "status": 1}
                        ]
                    },
                    {
                        "month": "3",
                        "date": [
                            {"date": "15", "status": 1},
                            {"date": "22", "status": 1},
                            {"date": "23", "status": 1}
                        ]
                    }
                ]
            }
        ],
        "referer": "",
        "state": "fail"
    };
    var json01 = {
        "info": {
            "disable": ["11-11", "12-12", "01-01","01-27"],
            "week": ["0", "5", "6"]
        },
        "date_status": 1,
        "referer": "",
        "state": "success"
    };
    var json02 = {
        "info": {
            "disable": ["11-11", "12-12", "01-01","01-27"],
            "date": [
                {"date": "1", "status": 1},
                {"date": "3", "status": 1},
                {"date": "12", "status": 1},
                {"date": "11", "status": 1},
                {"date": "4", "status": 1}
            ]
        },
        "date_status": 2,
        "referer": "",
        "state": "success"
    };

    var date_rule_json = json02;
</script>
<script src="js/app.js"></script>
<script>
    layui.use(["jquery",'form'],function(){
        var $ = layui.jquery;
        var form = layui.form;

        form.on('submit(submit)', function(data){
            if($('[name="date"]').val()){
                $('[name="date"]').parent().next().hide();
            }else{
                $('[name="date"]').parent().next().show();
                return false;
            }

            if($('[name="times"]').val() == 0){
                $('[name="times"]').parent().next().show();
                return false;
            }else{
                $('[name="times"]').parent().next().hide();
            }
            data.form.submit();
        });

    });
</script>
</body>
</html>